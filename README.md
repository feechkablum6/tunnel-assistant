# Tunnel Rule Assistant Chrome Extension

Это расширение для Google Chrome, которое автоматически добавляет правила в **TunnelTo** (TunnlTo) для текущего сайта.

## Возможности

1.  **Автоматическое определение IP**: Получает IP-адрес текущего сайта через Google DNS.
2.  **Интеграция с TunnelTo**: Автоматически добавляет правило в конфигурацию TunnelTo (`rule_items_store.json` и `app_data_store.json`).
3.  **Умное добавление**: Само определяет, в какой список (Allowed или Disallowed) добавить правило, основываясь на текущей конфигурации.

## Установка (Важно!)

Так как расширение взаимодействует с файлами на компьютере, требуется установка **Native Messaging Host**.

### Шаг 1: Установка расширения в Chrome
1.  Откройте `chrome://extensions/`.
2.  Включите **Developer mode**.
3.  Нажмите **Load unpacked** и выберите папку `f:\Code\TunnelTo`.
4.  **Скопируйте ID расширения** (длинная строка букв, например: `abcdefghijklmnop...`).

### Шаг 2: Регистрация Host-скрипта
1.  Перейдите в папку `f:\Code\TunnelTo\host`.
2.  Запустите файл `install_host.bat`.
3.  Вставьте скопированный ID расширения и нажмите Enter.
4.  Скрипт зарегистрирует Python-модуль в реестре Windows.

## Использование

1.  Зайдите на сайт, который нужно добавить в туннель.
2.  Нажмите на иконку расширения.
3.  Нажмите кнопку **Add Rule to TunnelTo**.
4.  Расширение сообщит: "Rule created and added to allowed/disallowed".
5.  **Перезапустите TunnelTo**, чтобы изменения вступили в силу (или дождитесь авто-обновления, если оно есть).

## Требования

*   Python 3.x (должен быть в PATH).
*   Google Chrome.
*   TunnelTo (установленный в стандартную папку AppData).
